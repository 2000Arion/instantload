let loadingTimeout=null;function showLoadingBar(){const n=document.getElementById("loading-bar");n&&(n.style.display="block")}function hideLoadingBar(){const n=document.getElementById("loading-bar");n&&(n.style.display="none")}const pageCache={};function isModifiedClick(n){return n.ctrlKey||n.metaKey||n.shiftKey||n.altKey||0!==n.button}function loadPage(n,e,t,o=!1){pageCache[n]?updatePage(pageCache[n],e,t,o):(loadingTimeout=setTimeout(showLoadingBar,200),fetch(n).then((n=>n.text())).then((a=>{clearTimeout(loadingTimeout),hideLoadingBar(),pageCache[n]=a,updatePage(a,e,t,o)})).catch((n=>{clearTimeout(loadingTimeout),hideLoadingBar(),console.error(`Error loading "${e}" page:`,n)})))}function updatePage(n,e,t,o){const a=(new DOMParser).parseFromString(n,"text/html").body.innerHTML;document.getElementById("body").innerHTML=a;const i=document.getElementById("year");i&&(i.textContent=(new Date).getFullYear()),o||window.history.pushState({page:t},e,"home"===t?"/":"/"+t),document.title=e,setFavicon("/favicon.ico")}function loadHomePage(n=null,e=!1){n&&isModifiedClick(n)||(n&&n.preventDefault(),loadPage("/home.html","Home | InstantLoad Test","home",e))}function loadFunktionenPage(n=null,e=!1){n&&isModifiedClick(n)||(n&&n.preventDefault(),loadPage("/funktionen.html","Funktionen | InstantLoad Test","funktionen",e))}function loadKontaktPage(n=null,e=!1){n&&isModifiedClick(n)||(n&&n.preventDefault(),loadPage("/kontakt.html","Kontakt | InstantLoad Test","kontakt",e))}function setFavicon(n){let e=document.querySelector("link[rel~='icon']");e||(e=document.createElement("link"),e.rel="icon",document.head.appendChild(e)),e.href=n}function a2dataRef(){window.open("https://www.arion2000.xyz","_blank")}function resetHistory(){window.history.go(-(window.history.length-1))}window.addEventListener("popstate",(function(n){const e=window.location.pathname;"/"===e||"/index.html"===e||"/index"===e||"/home"===e||"/home.html"===e?loadHomePage(null,!0):"/funktionen"===e||"/funktionen.html"===e?loadFunktionenPage(null,!0):"/kontakt"===e||"/kontakt.html"===e?loadKontaktPage(null,!0):window.location.replace("/")})),document.addEventListener("DOMContentLoaded",(function(){const n=window.location.pathname;"/"===n||"/index.html"===n||"/index"===n||"/home"===n||"/home.html"===n?loadHomePage(null,!0):"/funktionen"===n||"/funktionen.html"===n?loadFunktionenPage(null,!0):"/kontakt"===n||"/kontakt.html"===n?loadKontaktPage(null,!0):window.location.replace("/")}));
