let loadingTimeout=null;function showLoadingBar(){const e=document.getElementById("loading-bar");e&&(e.style.display="block")}function hideLoadingBar(){const e=document.getElementById("loading-bar");e&&(e.style.display="none")}const pageCache={};function isModifiedClick(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||0!==e.button}function loadPage(e,n,t,o=!1){pageCache[e]?updatePage(pageCache[e],n,t,o):(loadingTimeout=setTimeout((()=>NProgress.start()),200),fetch(e).then((e=>e.text())).then((a=>{clearTimeout(loadingTimeout),NProgress.done(),pageCache[e]=a,updatePage(a,n,t,o)})).catch((e=>{clearTimeout(loadingTimeout),NProgress.done(),console.error(`Error loading "${n}" page:`,e)})))}function updatePage(e,n,t,o){const a=(new DOMParser).parseFromString(e,"text/html").body.innerHTML;document.getElementById("body").innerHTML=a;const i=document.getElementById("year");i&&(i.textContent=(new Date).getFullYear()),o||window.history.pushState({page:t},n,"home"===t?"/":"/"+t),document.title=n,setFavicon("/favicon.ico")}function loadHomePage(e=null,n=!1){e&&isModifiedClick(e)||(e&&e.preventDefault(),loadPage("/home.html","Home | InstantLoad Test","home",n))}function loadFunktionenPage(e=null,n=!1){e&&isModifiedClick(e)||(e&&e.preventDefault(),loadPage("/funktionen.html","Funktionen | InstantLoad Test","funktionen",n))}function loadKontaktPage(e=null,n=!1){e&&isModifiedClick(e)||(e&&e.preventDefault(),loadPage("/kontakt.html","Kontakt | InstantLoad Test","kontakt",n))}function setFavicon(e){let n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.head.appendChild(n)),n.href=e}function a2dataRef(){window.open("https://www.arion2000.xyz","_blank")}function resetHistory(){window.history.go(-(window.history.length-1))}window.addEventListener("popstate",(function(e){const n=window.location.pathname;"/"===n||"/index.html"===n||"/index"===n||"/home"===n||"/home.html"===n?loadHomePage(null,!0):"/funktionen"===n||"/funktionen.html"===n?loadFunktionenPage(null,!0):"/kontakt"===n||"/kontakt.html"===n?loadKontaktPage(null,!0):window.location.replace("/")})),document.addEventListener("DOMContentLoaded",(function(){const e=window.location.pathname;"/"===e||"/index.html"===e||"/index"===e||"/home"===e||"/home.html"===e?loadHomePage(null,!0):"/funktionen"===e||"/funktionen.html"===e?loadFunktionenPage(null,!0):"/kontakt"===e||"/kontakt.html"===e?loadKontaktPage(null,!0):window.location.replace("/")}));
